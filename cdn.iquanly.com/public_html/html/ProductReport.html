<style>
.wrap-button-footer {
    display: none;
}

.chartdiv {
	width		: 100%;
	height		: 500px;
	font-size	: 11px;
}	
.saleReport .report_purchaseDate .overlay_chart {
    top: auto;
    bottom: 0;
    height: 480px;
}
 
.overlay_chart {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-color: #fff;
    text-align: center;
    display: none;
}	


.mainWrapReport{
    background: white;
}	

.productTreeSearch {
    position: relative;
    margin-bottom: 0;
}
.productTreeSearch .fa {
    font-size: 12px;
    color: rgb(102, 102, 102);
    position: absolute;
    left: 0px;
    top: 5px;
}
.productTreeSearch input[type="text"] {
    padding: 5px 0 10px 22px;
    border: none;
    border-bottom: 1px solid #eeeeee;
    -webkit-border-radius: 0;
    -moz-border-radius: 0;
    border-radius: 0;
}
.productTreeSearch input[type="text"]:focus {
    border: none;
    border-bottom: 1px solid #4bac4d;
    outline: none;
} 
.productCatTree {
    max-height: 400px;
    overflow-y: auto;
}
.productCatTree .treeAll {
    padding: 8px 5px 8px 22px;
    border-bottom: 1px solid #eeeeee;
}
.edittreeview {
    position: absolute;
    right: 3px;
    cursor: pointer;
    top: 50%;
    margin-top: -8px;
    display: none;
}
.productCatTree .treeAll.kv-state-selected {
    color: rgb(0, 0, 0);
    font-weight: bold;
    background: rgb(237, 246, 228);
}	

.fwb{
    font-weight: bold;
}	
.tac{
    text-align: center;
}
.tal{
    text-align: left;
}
.tar{
    text-align: right;
}

.trv-nav{
    z-index: 1;
}
.trv-nav>ul {     
    margin-top: 0px;
}
.trv-page-wrapper{
    transform-origin: top;
}
.trv-page-wrapper.max{
    transform-origin: top left;
}
@media print{
    header,footer,#pprr+script+div,.mainLeft,.trv-nav{
        display: none;
    }
    .mainRight {         
        margin-left: 0px;         
    }
}
</style>
<section class="mainLeft fll proLeft reportLeft ng-scope">
  <div class="filter-report">
    <article class="boxLeft uln mb10">
      <aside class="boxLeftC posR fs14 txtB reportTitle" kv-report-title="">Báo cáo <span><i class="fa fa-clipboard"></i>hàng hóa</span></aside>
      <div class="mb15 boxLeftC ng-hide" ng-show="report.ViewType == 'Profit' &amp;&amp; report.Mode != 'chart'"><a href="javascript:void(0)" ng-click="ExportAll()" class="kv2Btn kv2BtnExport fs12" title="Xuất file"><i class="fa fa-sign-out veaM fs16"></i> Xuất tất cả</a></div>
    </article>
    <article class="boxLeft uln sortTime" ng-show="report.ViewType != 'Discount'">
      <h3 class="leftTitle ng-binding">Kiểu hiển thị</h3>
      <aside class="boxLeftC posR">
        <ul class="pretty-radio-mobile">
          <li ng-show="report &amp;&amp; report.hasChart" class="has-pretty-child">
            <div class="clearfix prettyradio labelright  blue">
              <input type="radio" name="sView" kv-change="changeReportMode" value="chart" ng-model="report.Mode" kv-pretty-check="" kv-data-label="_l.report_SearchTypeViewChart" class="ng-untouched ng-valid ng-isolate-scope ng-not-empty ng-dirty ng-valid-parse"
              data-label="Biểu đồ" style="display: none;">
              <a href="javascript:void(0)" tabindex="1000007" class="checked"></a>
              <label for="undefined" class="checked">Biểu đồ</label>
            </div>
          </li>
          <li class="has-pretty-child">
            <div class="clearfix prettyradio labelright  blue">
              <input type="radio" name="sView" kv-change="changeReportMode" value="data" ng-model="report.Mode" kv-pretty-check="" kv-data-label="_l.report_SearchTypeViewData" class="ng-untouched ng-valid ng-isolate-scope ng-not-empty ng-dirty" data-label="Báo cáo"
              style="display: none;">
              <a href="javascript:void(0)" tabindex="1000007" class=""></a>
              <label for="undefined" class="">Báo cáo</label>
            </div>
          </li>  
        </ul>
        <div class="reportView ng-hide" ng-show="hasBothType"><a href="javascript:;" ng-click="ChangeViewType(true)" class="view_v" title="Hiển thị theo chiều dọc">Dọc<i></i></a> <a href="javascript:;" ng-click="ChangeViewType(false)" class="view_h  active" title="Hiển thị theo chiều ngang">Ngang<i></i></a></div>
      </aside>
    </article>
    <article class="boxLeft uln leftStatus">
      <h3 class="leftTitle ng-binding">Mối quan tâm</h3>
      <aside class="boxLeftC fr">
        <ul class="pretty-radio-mobile">
          <!-- ngRepeat: type in reportTypes -->
          <li ng-repeat="type in reportTypes" class="ng-scope has-pretty-child">
            <div class="clearfix prettyradio labelright  blue">
              <input type="radio" kv-pretty-check="" name="reportType" value="ProductBySale" kv-data-label="type.Name" ng-model="report.ViewType" kv-change="reportTypeChanged" class="ng-untouched ng-valid ng-isolate-scope ng-not-empty ng-dirty ng-valid-parse"
              data-label="Bán hàng" style="display: none;" checked="checked">
              <a href="javascript:void(0)" tabindex="1000007" class="checked"></a>
              <label for="undefined" class="checked">Bán hàng</label>
            </div>
          </li>
          <!-- end ngRepeat: type in reportTypes -->
          <li ng-repeat="type in reportTypes" class="ng-scope has-pretty-child hth-hide">
            <div class="clearfix prettyradio labelright  blue">
              <input type="radio" kv-pretty-check="" name="reportType" value="ProductByProfit" kv-data-label="type.Name" ng-model="report.ViewType" kv-change="reportTypeChanged" class="ng-untouched ng-valid ng-isolate-scope ng-not-empty ng-dirty" data-label="Lợi nhuận"
              style="display: none;">
              <a href="javascript:void(0)" tabindex="1000007" class=""></a>
              <label for="undefined" class="">Lợi nhuận</label>
            </div>
          </li>
          <!-- end ngRepeat: type in reportTypes -->
          <li ng-repeat="type in reportTypes" class="ng-scope has-pretty-child hth-hide">
            <div class="clearfix prettyradio labelright  blue">
                <input type="radio" kv-pretty-check="" name="reportType" value="ProducStockInOutStock" kv-data-label="type.Name" ng-model="report.ViewType" kv-change="reportTypeChanged" class="ng-untouched ng-valid ng-isolate-scope ng-not-empty ng-dirty" data-label="Giá trị kho" style="display: none;">
                <a href="javascript:void(0)" tabindex="1000007" class=""></a>
                <label for="undefined" class="">Giá trị kho</label></div></li>
          <!-- end ngRepeat: type in reportTypes -->
          <!-- end ngRepeat: type in reportTypes -->
          <li ng-repeat="type in reportTypes" class="ng-scope has-pretty-child hth-hide">
            <div class="clearfix prettyradio labelright  blue">
                <input type="radio" kv-pretty-check="" name="reportType" value="ProducInOutStock" kv-data-label="type.Name" ng-model="report.ViewType" kv-change="reportTypeChanged" class="ng-untouched ng-valid ng-isolate-scope ng-not-empty ng-dirty" data-label="Xuất nhập tồn" style="display: none;">
                <a href="javascript:void(0)" tabindex="1000007" class=""></a>
                <label for="undefined" class="">Xuất nhập tồn</label></div></li>
          <!-- end ngRepeat: type in reportTypes -->
          <li ng-repeat="type in reportTypes" class="ng-scope has-pretty-child hth-hide"><div class="clearfix prettyradio labelright  blue"><input type="radio" kv-pretty-check="" name="reportType" value="ProducInOutStockDetail" kv-data-label="type.Name" ng-model="report.ViewType" kv-change="reportTypeChanged" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty" data-label="Xuất nhập tồn chi tiết" style="display: none;"><a href="javascript:void(0)" tabindex="1000007" class=""></a>
<label for="undefined" class="">Xuất nhập tồn chi tiết</label></div></li>
          <li ng-repeat="type in reportTypes" class="ng-scope has-pretty-child hth-hide"><div class="clearfix prettyradio labelright  blue"><input type="radio" kv-pretty-check="" name="reportType" value="ProductByDamageItem" kv-data-label="type.Name" ng-model="report.ViewType" kv-change="reportTypeChanged" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty" data-label="Xuất hủy" style="display: none;"><a href="javascript:void(0)" tabindex="1000007" class=""></a>
<label for="undefined" class="">Xuất hủy</label></div></li>
          <li ng-repeat="type in reportTypes" class="ng-scope has-pretty-child hth-hide"><div class="clearfix prettyradio labelright  blue"><input type="radio" kv-pretty-check="" name="reportType" value="ProductByUser" kv-data-label="type.Name" ng-model="report.ViewType" kv-change="reportTypeChanged" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty" data-label="Nhân viên theo hàng bán" style="display: none;"><a href="javascript:void(0)" tabindex="1000007" class=""></a>
<label for="undefined" class="">Nhân viên theo hàng bán</label></div></li>
          <li ng-repeat="type in reportTypes" class="ng-scope has-pretty-child hth-hide"><div class="clearfix prettyradio labelright  blue"><input type="radio" kv-pretty-check="" name="reportType" value="ProductByCustomer" kv-data-label="type.Name" ng-model="report.ViewType" kv-change="reportTypeChanged" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty" data-label="Khách theo hàng bán" style="display: none;"><a href="javascript:void(0)" tabindex="1000007" class=""></a>
<label for="undefined" class="">Khách theo hàng bán</label></div></li>
          <li ng-repeat="type in reportTypes" class="ng-scope has-pretty-child hth-hide"><div class="clearfix prettyradio labelright  blue"><input type="radio" kv-pretty-check="" name="reportType" value="ProductBySupplier" kv-data-label="type.Name" ng-model="report.ViewType" kv-change="reportTypeChanged" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty" data-label="NCC theo hàng nhập" style="display: none;"><a href="javascript:void(0)" tabindex="1000007" class=""></a>
<label for="undefined" class="">NCC theo hàng nhập</label></div></li>
          <!-- end ngRepeat: type in reportTypes -->
          <li ng-repeat="type in reportTypes" class="ng-scope has-pretty-child">
            <div class="clearfix prettyradio labelright  blue">
                <input type="radio" kv-pretty-check="" name="reportType" value="ProductOverview" kv-data-label="type.Name" ng-model="report.ViewType" kv-change="reportTypeChanged" class="ng-untouched ng-valid ng-isolate-scope ng-not-empty ng-dirty" data-label="Tổng quan" style="display: none;" />
                <a href="javascript:void(0)" tabindex="1000007" class=""></a>
                <label for="undefined" class="">Tổng quan</label></div></li>
        </ul>
      </aside>
    </article>
    <kv-report-branch-filter kv-permission="SaleReport_" kv-model="filter" kv-change="refreshReport" class="ng-isolate-scope">
      <article class="boxLeft uln sortBranch ng-hide" ng-show="branches.length>1">
        <h3 class="leftTitle ng-binding">Chi nhánh</h3>
        <aside class="boxLeftC">
          <div class="k-widget k-multiselect k-header" unselectable="on" title="" style="">
            <div class="k-multiselect-wrap k-floatwrap" unselectable="on">
              <ul role="listbox" unselectable="on" class="k-reset">
                <li class="k-button ng-scope" unselectable="on"><span unselectable="on">Chi nhánh trung tâm</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-close">delete</span></span>
                </li>
              </ul>
              <input class="k-input" style="width: 25px;" accesskey="" autocomplete="off" role="listbox" aria-expanded="false" tabindex="0" aria-owns="" aria-disabled="false" aria-readonly="false" aria-busy="false" aria-activedescendant="aee3cd33-236f-4dab-93e5-4790df403787"><span class="k-icon k-loading k-loading-hidden"></span></div>
            <select k-filter="'contains'" k-data-source="branches" k-ng-model="kvModel.BranchIds" k-value-primitive="true" data-placeholder="_l.lblBranchFilterHolder" k-data-text-field="'Name'"
            k-data-value-field="'Id'" k-change="refreshReport" multiple="multiple" kendo-multi-select="" data-role="multiselect" aria-disabled="false" aria-readonly="false" style="display: none;">
              <option value="19918" selected="">Chi nhánh trung tâm</option>
            </select><span style="font-family: Arial, Helvetica, sans-serif; font-size: 13px; font-stretch: normal; font-style: normal; font-weight: normal; letter-spacing: normal; text-transform: none; line-height: 17.03px; position: absolute; visibility: hidden; top: -3333px; left: -3333px;"></span></div>
        </aside>
      </article>
    </kv-report-branch-filter>
    <article class="boxLeft uln reportsortTime customeSelect">
      <h3 class="leftTitle ng-binding">Thời gian</h3>
      <kv-report-time-filter kv-model="filter" kv-change="refreshReport" class="ng-isolate-scope">
        <aside class="boxLeftC posR">
          <ul id="">
            <li class="reportsort reportsortDateTime has-pretty-child" ng-hide="kvChooseDate">
              <div class="clearfix prettyradio labelright  blue">
                <input type="radio" kv-pretty-check="" name="stime_" id="reportsortDateTimeIpt" value="range" ng-model="kvModel.typeDate" kv-change="filterTimeChangeType" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty" style="display: none;"
                checked="checked">
                <a href="javascript:void(0)" tabindex="1000007" class="checked"></a>
                <label for="reportsortDateTimeIpt" class="checked"></label>
              </div>
              <aside class="sortTime">
                <label class="sortTimeLbl ng-binding" id="reportsortDateTimeLbl" ng-click="sortTimeType('.reportsortDateTime')">Tuần này</label>
                <aside class="sortTimeHeight sortTimeList">
                  <div class="row">
                    <div class="col-md-4 col-sm-4">
                      <h3>Theo ngày và tuần</h3>
                      <ul>
                        <li><a href="javascript:void(0);" ng-click="filterbyRange('today')" class="ng-binding">Hôm nay</a></li>
                        <li><a href="javascript:void(0);" ng-click="filterbyRange('yesterday')" class="ng-binding">Hôm qua</a></li>
                        <li><a href="javascript:void(0);" ng-click="filterbyRange('thisweek')" class="ng-binding">Tuần này</a></li>
                        <li><a href="javascript:void(0);" ng-click="filterbyRange('lastweek')" class="ng-binding">Tuần trước</a></li>
                        <!-- ngIf: !kvBirthday -->
                        <li ng-if="!kvBirthday" class="ng-scope"><a href="javascript:void(0);" ng-click="filterbyRange('7day')" class="ng-binding">7 ngày qua</a></li>
                        <!-- end ngIf: !kvBirthday -->
                      </ul>
                    </div>
                    <div class="col-md-4 col-sm-4">
                      <h3>Theo tháng và quý</h3>
                      <ul>
                        <li><a href="javascript:void(0);" ng-click="filterbyRange('month')" class="ng-binding">Tháng này</a></li>
                        <li><a href="javascript:void(0);" ng-click="filterbyRange('lastmonth')" class="ng-binding">Tháng trước</a></li>
                        <!-- ngIf: !kvBirthday -->
                        <li ng-if="!kvBirthday" class="ng-scope"><a href="javascript:void(0);" ng-click="filterbyRange('monthlunar')" class="ng-binding">Tháng này (Âm lịch)</a></li>
                        <!-- end ngIf: !kvBirthday -->
                        <!-- ngIf: !kvBirthday -->
                        <li ng-if="!kvBirthday" class="ng-scope"><a href="javascript:void(0);" ng-click="filterbyRange('lastmonthlunar')" class="ng-binding">Tháng trước (Âm lịch)</a></li>
                        <!-- end ngIf: !kvBirthday -->
                        <!-- ngIf: !kvBirthday -->
                        <li ng-if="!kvBirthday" class="ng-scope"><a href="javascript:void(0);" ng-click="filterbyRange('30day')" class="ng-binding">30 ngày qua</a></li>
                        <!-- end ngIf: !kvBirthday -->
                        <li><a href="javascript:void(0);" ng-click="filterbyRange('quarter')" class="ng-binding">Quý này</a></li>
                        <li><a href="javascript:void(0);" ng-click="filterbyRange('lastquarter')" class="ng-binding">Quý trước</a></li>
                      </ul>
                    </div>
                    <div class="col-md-4 col-sm-4">
                      <h3>Theo năm</h3>
                      <ul>
                        <!-- ngIf: !kvBirthday -->
                        <li ng-if="!kvBirthday" class="ng-scope"><a href="javascript:void(0);" ng-click="filterbyRange('year')" class="ng-binding">Năm này</a></li>
                        <!-- end ngIf: !kvBirthday -->
                        <!-- ngIf: !kvBirthday -->
                        <li ng-if="!kvBirthday" class="ng-scope"><a href="javascript:void(0);" ng-click="filterbyRange('lastyear')" class="ng-binding">Năm trước</a></li>
                        <!-- end ngIf: !kvBirthday -->
                        <!-- ngIf: !kvBirthday -->
                        <li ng-if="!kvBirthday" class="ng-scope"><a href="javascript:void(0);" ng-click="filterbyRange('yearlunar')" class="ng-binding">Năm này (Âm lịch)</a></li>
                        <!-- end ngIf: !kvBirthday -->
                        <!-- ngIf: !kvBirthday -->
                        <li ng-if="!kvBirthday" class="ng-scope"><a href="javascript:void(0);" ng-click="filterbyRange('lastyearlunar')" class="ng-binding">Năm trước (Âm lịch)</a></li>
                        <!-- end ngIf: !kvBirthday -->
                        <!-- ngIf: kvModel.typeFilter && kvModel.typeFilter == 'common' && (kvAlltime || kvBirthday) -->
                      </ul>
                    </div>
                  </div>
                </aside>
              </aside>
            </li>
            <li class="reportsort reportsortDateTime reportsortDate has-pretty-child ng-hide" ng-show="kvChooseDate">
              <div class="clearfix prettyradio labelright  blue">
                <input type="radio" kv-pretty-check="" name="stime_" id="chooseDate" value="choose" ng-model="kvModel.typeDate" kv-change="filterTimeChangeType" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty" style="display: none;">
                <a href="javascript:void(0)" tabindex="1000007" class=""></a>
                <label for="chooseDate" class=""></label>
              </div>
              <label class="sortTimeLbl ng-binding" id="reportsortDateTimeLbl" ng-click="sortTimeType('.reportsortDateTime')">Chọn ngày</label>
              <aside class="sortTimeHeight sortDateTimeOtherBox fr">
                <div class="row mb5">
                  <div class="col-md-12">
                    <h6 class="ng-binding">Chọn ngày: <span class="ng-binding">13/07/2017</span></h6>
                    <div kendo-calendar="" id="transDate" required="required" kv-max="EndDate" k-max="EndDate" k-rebind="EndDate" k-ng-model="kvModel.TransDate" ng-click="filterByChooseDate()" data-role="calendar" class="k-widget k-calendar">
                      <div class="k-header"><a href="#" role="button" class="k-link k-nav-prev" aria-disabled="false"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast" aria-disabled="false">Tháng Bảy 2017</a>
                        <a
                        href="#" role="button" class="k-link k-nav-next k-state-disabled" aria-disabled="true"><span class="k-icon k-i-arrow-e"></span></a>
                      </div>
                      <table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="2017/5/26" aria-activedescendant="transDate_cell_selected">
                        <thead>
                          <tr role="row">
                            <th scope="col" title="Thứ Hai">H</th>
                            <th scope="col" title="Thứ Ba">B</th>
                            <th scope="col" title="Thứ Tư">T</th>
                            <th scope="col" title="Thứ Năm">N</th>
                            <th scope="col" title="Thứ Sáu">S</th>
                            <th scope="col" title="Thứ Bảy">B</th>
                            <th scope="col" title="Chủ Nhật">C</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr role="row">
                            <td class="k-other-month" role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/5/26" title="26 Tháng Sáu 2017">26</a></td>
                            <td class="k-other-month" role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/5/27" title="27 Tháng Sáu 2017">27</a></td>
                            <td class="k-other-month" role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/5/28" title="28 Tháng Sáu 2017">28</a></td>
                            <td class="k-other-month" role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/5/29" title="29 Tháng Sáu 2017">29</a></td>
                            <td class="k-other-month" role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/5/30" title="30 Tháng Sáu 2017">30</a></td>
                            <td class="k-weekend" role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/1" title="01 Tháng Bảy 2017">1</a></td>
                            <td class="k-weekend" role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/2" title="02 Tháng Bảy 2017">2</a></td>
                          </tr>
                          <tr role="row">
                            <td role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/3" title="03 Tháng Bảy 2017">3</a></td>
                            <td role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/4" title="04 Tháng Bảy 2017">4</a></td>
                            <td role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/5" title="05 Tháng Bảy 2017">5</a></td>
                            <td role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/6" title="06 Tháng Bảy 2017">6</a></td>
                            <td role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/7" title="07 Tháng Bảy 2017">7</a></td>
                            <td class="k-weekend" role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/8" title="08 Tháng Bảy 2017">8</a></td>
                            <td class="k-weekend" role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/9" title="09 Tháng Bảy 2017">9</a></td>
                          </tr>
                          <tr role="row">
                            <td role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/10" title="10 Tháng Bảy 2017">10</a></td>
                            <td role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/11" title="11 Tháng Bảy 2017">11</a></td>
                            <td role="gridcell"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/12" title="12 Tháng Bảy 2017">12</a></td>
                            <td class="k-today" role="gridcell" aria-selected="true" id="transDate_cell_selected"><a tabindex="-1" class="k-link" href="#" data-value="2017/6/13" title="13 Tháng Bảy 2017">13</a></td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                          </tr>
                          <tr role="row">
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                          </tr>
                          <tr role="row">
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                          </tr>
                          <tr role="row">
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                            <td role="gridcell">&nbsp;</td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="k-footer"><a href="#" class="k-link k-nav-today" title="13 Tháng Bảy 2017">13 Tháng Bảy 2017</a></div>
                    </div>
                  </div>
                </div>
              </aside>
            </li>
            <li class="reportsort reportsortOther has-pretty-child hth-hide">
              <div class="clearfix prettyradio labelright  blue">
                <input type="radio" kv-pretty-check="" name="stime_" value="other" id="sortTime" ng-model="kvModel.typeDate" kv-data-label="" kv-change="filterTimeChangeType" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty" style="display: none;">
                <a href="javascript:void(0)" tabindex="1000007" class=""></a>
                <label for="sortTime" class=""></label>
              </div>
              <label class="sortTimeLbl ng-binding" id="reportsortOtherLbl" ng-click="sortTimeType('.reportsortOther')">Lựa chọn khác </label>
              <aside class="sortTimeHeight sortDateTimeOtherBox fr">
                <div class="row mb5">
                  <div class="col-md-6 col-sm-6">
                    <h6 class="ng-binding">Từ ngày: <!-- ngIf: !kvBirthday --><span ng-if="!kvBirthday" class="ng-binding ng-scope">13/07/2017</span><!-- end ngIf: !kvBirthday --><!-- ngIf: kvBirthday --></h6>
                    <div kendo-calendar="" id="fromDate" required="required" kv-max="EndDate" k-max="EndDate" k-rebind="EndDate" k-ng-model="StartDate" data-role="calendar" class="k-widget k-calendar">
                      
                    </div>
                  </div>
                  <div class="col-md-6 col-sm-6">
                    <h6 class="ng-binding">Đến ngày: <!-- ngIf: !kvBirthday --><span ng-if="!kvBirthday" class="ng-binding ng-scope">13/07/2017</span><!-- end ngIf: !kvBirthday --><!-- ngIf: kvBirthday --></h6>
                    <div kendo-calendar="" id="toDate" required="required" kv-min="StartDate" k-min="StartDate" k-rebind="StartDate" k-ng-model="EndDate" data-role="calendar" class="k-widget k-calendar">
                      
                    </div>
                  </div>
                </div>
                <div class="boxBtn mb15 txtR"><a ng-click="filterByDateRange()" class="kv2Btn ng-binding"><i class="fa fa-filter"></i>Tạo báo cáo</a></div>
              </aside>
            </li>
          </ul>
        </aside>
      </kv-report-time-filter>
    </article>
    <kv-report-product-filter kv-model="filter" kv-change="refreshReport" kv-search-by-key-word="true" class="ng-isolate-scope">
  <article class="boxLeft uln sortTime sortView fr" ng-show="!kvModel.noCodeFilter">
    <h3 class="leftTitle cursor ng-binding" ng-click="showReportProduct = !showReportProduct">Hàng hóa <a class="showhideicon"><i class="fa fa-chevron-circle-up"></i></a></h3>
    <aside class="boxLeftC" ng-show="showReportProduct">
      <input type="text" ng-model="kvModel.ProductKey" placeholder="Theo tên hoặc mã hàng" class="w99 ng-pristine ng-untouched ng-valid ng-empty" kv-select-text="" ng-enter="filterbyKeyword()">
    </aside>
  </article>
  <article class="boxLeft uln leftStatus" ng-hide="kvModel.noProductType">
    <h3 class="leftTitle cursor ng-binding" ng-click="showReportProductType = !showReportProductType">Loại hàng <a class="showhideicon"><i class="fa fa-chevron-circle-up"></i></a></h3>
    <aside class="boxLeftC" ng-show="showReportProductType">
      <ul class="pretty-checkbox-mobile">
        <!-- ngRepeat: item in pTypeFilter -->
        <li ng-repeat="item in pTypeFilter" class="ng-scope has-pretty-child">
          <div class="clearfix prettycheckbox labelright  blue">
            <input value="1" type="checkbox" ng-model="pTypeFilterValues[item.key]" kv-change="filterbyProductType" kv-pretty-check="" kv-data-label="item.value" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-empty" data-label="Combo - đóng gói" style="display: none;">
            <a href="javascript:void(0)" tabindex="1000007" class=""></a>
            <label for="undefined" class="">Combo - đóng gói</label>
          </div>
        </li>
        <!-- end ngRepeat: item in pTypeFilter -->
        <li ng-repeat="item in pTypeFilter" class="ng-scope has-pretty-child">
          <div class="clearfix prettycheckbox labelright  blue">
            <input value="2" type="checkbox" ng-model="pTypeFilterValues[item.key]" kv-change="filterbyProductType" kv-pretty-check="" kv-data-label="item.value" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-empty" data-label="Hàng hóa" style="display: none;">
            <a href="javascript:void(0)" tabindex="1000007" class=""></a>
            <label for="undefined" class="">Hàng hóa</label>
          </div>
        </li>
        <!-- end ngRepeat: item in pTypeFilter -->
        <li ng-repeat="item in pTypeFilter" class="ng-scope has-pretty-child">
          <div class="clearfix prettycheckbox labelright  blue">
            <input value="3" type="checkbox" ng-model="pTypeFilterValues[item.key]" kv-change="filterbyProductType" kv-pretty-check="" kv-data-label="item.value" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-empty" data-label="Dịch vụ" style="display: none;">
            <a href="javascript:void(0)" tabindex="1000007" class=""></a>
            <label for="undefined" class="">Dịch vụ</label>
          </div>
        </li>
        <!-- end ngRepeat: item in pTypeFilter -->
      </ul>
    </aside>
  </article>
  <article class="boxLeft uln sortTime sortView fr ng-hide" ng-show="attributeList.length>0 &amp;&amp; _setting.UseVariants &amp;&amp; !kvModel.noVariants">
    <h3 class="leftTitle cursor ng-binding" ng-click="showVariant = !showVariant">Thuộc tính <a class="showhideicon"><i class="fa fa-chevron-circle-down"></i></a></h3>
    <aside class="boxLeftC ng-hide" ng-show="showVariant">
      <div class="hideSelect mb10" ng-class="showSelect?'showALL':''">
        <!-- ngRepeat: item in attributeList -->
      </div><a class="ng-binding" href="javascript:void(0)" ng-click="showSelect = !showSelect">Mở rộng <i class="fa fa-caret-down"></i></a></aside>
  </article>
  <article class="boxLeft uln sortTime proGroup sortView posR" ng-hide="!hasViewCate || kvModel.noCategoryFilter">
    <h3 class="leftTitle cursor ng-binding" ng-click="showReportProductGroup = !showReportProductGroup">Nhóm hàng <a class="showhideicon"><i class="fa fa-chevron-circle-up"></i></a></h3>
    <aside class="boxLeftC" ng-show="showReportProductGroup">
      <kv-product-category-selector use-custom-action="false" on-selected="onCategorySelected" class="ng-isolate-scope">
        <label class="productTreeSearch"><i class="fa fa-search"></i>
          <input type="text" ng-model="catSearchParam" placeholder="Tìm kiếm nhóm hàng" kv-select-text="" ng-change="onCatSearchTermChange()" class="ng-pristine ng-untouched ng-valid ng-empty" style="width: 190px;">
        </label>
        <div class="productCatTree">
          <!-- ngIf: !isSearchMatch -->
          <div ng-click="clearSelected()" ng-show="!catSearchParam" id="idProductCatTreeAll" class="treeAll kv-state-selected">Tất cả</div>
          <div id="productCatTreeView" class="productCatTreeView k-widget k-treeview" kendo-tree-view="productCatTreeView" k-options="productCatTreeOptions" k-data-source="categoryTreeData" data-role="treeview" tabindex="0">
            <ul class="k-group k-treeview-lines" role="tree">
               
            </ul>
          </div>
        </div>
      </kv-product-category-selector>
    </aside>
  </article>
  <article class="boxLeft uln leftStatus ng-hide" ng-hide="kvModel.noOnHandFilter || kvModel.BranchIds.length != 1">
    <h3 class="leftTitle cursor ng-binding" ng-click="showOnHandFilter = !showOnHandFilter">Tồn kho <a class="showhideicon"><i class="fa fa-chevron-circle-down"></i></a></h3>
    <aside class="boxLeftC ng-hide" ng-show="showOnHandFilter">
      <ul class="pretty-radio-mobile">
        <li class="has-pretty-child">
          <div class="clearfix prettyradio labelright  blue">
            <input type="radio" kv-pretty-check="" name="OnHandRadio" value="1" kv-data-label="_l.product_SearchUnderOnHand" ng-model="kvModel.OnHandFilter" kv-change="filterbyOnHand" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty"
            data-label="Dưới định mức tồn" style="display: none;">
            <a href="javascript:void(0)" tabindex="1000007" class=""></a>
            <label for="undefined" class="">Dưới định mức tồn</label>
          </div>
        </li>
        <li class="has-pretty-child">
          <div class="clearfix prettyradio labelright  blue">
            <input type="radio" kv-pretty-check="" name="OnHandRadio" value="2" kv-data-label="_l.product_SearchOverOnHand" ng-model="kvModel.OnHandFilter" kv-change="filterbyOnHand" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty"
            data-label="Vượt định mức tồn" style="display: none;">
            <a href="javascript:void(0)" tabindex="1000007" class=""></a>
            <label for="undefined" class="">Vượt định mức tồn</label>
          </div>
        </li>
        <li class="has-pretty-child">
          <div class="clearfix prettyradio labelright  blue">
            <input type="radio" kv-pretty-check="" name="OnHandRadio" value="3" kv-data-label="_l.product_SearchInOnHand" ng-model="kvModel.OnHandFilter" kv-change="filterbyOnHand" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty"
            data-label="Còn hàng trong kho" style="display: none;">
            <a href="javascript:void(0)" tabindex="1000007" class=""></a>
            <label for="undefined" class="">Còn hàng trong kho</label>
          </div>
        </li>
        <li class="has-pretty-child">
          <div class="clearfix prettyradio labelright  blue">
            <input type="radio" kv-pretty-check="" name="OnHandRadio" value="4" kv-data-label="_l.product_SearchOutOfOnHand" ng-model="kvModel.OnHandFilter" kv-change="filterbyOnHand" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty"
            data-label="Hết hàng trong kho" style="display: none;">
            <a href="javascript:void(0)" tabindex="1000007" class=""></a>
            <label for="undefined" class="">Hết hàng trong kho</label>
          </div>
        </li>
        <li class="has-pretty-child">
          <div class="clearfix prettyradio labelright  blue">
            <input type="radio" kv-pretty-check="" name="OnHandRadio" value="0" kv-data-label="_l.product_SearchNotOnHand" ng-model="kvModel.OnHandFilter" kv-change="filterbyOnHand" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-not-empty"
            data-label="Tất cả" style="display: none;" checked="checked">
            <a href="javascript:void(0)" tabindex="1000007" class="checked"></a>
            <label for="undefined" class="checked">Tất cả</label>
          </div>
        </li>
      </ul>
    </aside>
  </article>
</kv-report-product-filter>
 
  </div>
  <div class="wrap-button-footer">
    <button kv-mobile="" type="button" class="kv2Btn">Hoàn tất</button>
  </div>
</section>

<section class="mainRight proRight reportRight ng-scope">
  <a href="javascript:void(0);" class="mobileIcon" kv-mobile=""></a>
  <section class="mainWrap fll w100 mainWrapReport" style="position: relative; top: auto; bottom: auto; width: auto;">
    <div class="posR wrapper-report ng-hide" ng-show="report.showing">
      <div class="trv-error-pane report-loading" style="display: none;">
        <div class="centered k-tooltip-validation k-widget">
          <div class="trv-error-message">Loading report...</div>
        </div>
      </div>
      <div id="reportViewer" class="k-widget ng-binding">
        <div class="trv-report-viewer">
          <div class="trv-side-menu k-content" data-role="telerik_ReportViewer_SideMenu">
            <ul data-role="panelbar" class="k-widget k-reset k-header k-panelbar" tabindex="0" role="menu">
              <li class="k-item k-state-default k-first" role="menuitem"><a data-command="telerik_ReportViewer_historyBack" title="Navigate Backward" href="#" class="k-link k-header"><i class="fa fa-mail-reply icon-mail-reply"></i><span>Navigate Backward</span></a></li>
              <li class="k-item k-state-default k-state-disabled" role="menuitem"><a data-command="telerik_ReportViewer_historyForward" title="Navigate Forward" href="#" class="k-link k-header"><i class="fa fa-mail-forward icon-mail-forward"></i><span>Navigate Forward</span></a></li>
              <li class="k-item k-state-default" role="menuitem"><a data-command="telerik_ReportViewer_refresh" href="#" title="Refresh" class="k-link k-header"><i class="fa fa-refresh icon-refresh"></i><span>Refresh</span></a></li>
              <li class="k-item k-state-default" role="menuitem"><a data-command="telerik_ReportViewer_print" title="Print" href="#" class="k-link k-header"><i class="fa fa-print icon-print"></i><span>Print...</span></a></li>
              <li aria-expanded="false" class="k-item k-state-default" role="menuitem">
                <a title="Export" href="#" data-command="telerik_ReportViewer_export" class="k-link k-header"><i class="fa fa-cloud-download icon-cloud-download"></i><span>Export</span><span class="k-icon k-i-arrow-s k-panelbar-expand"></span></a>
                <ul data-command-list="export-format-list" class="k-group k-panel" role="group" aria-hidden="true" style="display: none;"></ul>
              </li>
              <li class="k-item k-state-default k-last" role="menuitem"><a data-command="telerik_ReportViewer_togglePrintPreview" title="Toggle Print Preview" href="#" class="k-link k-header"><i class="fa fa-print icon-print"></i><span>Toggle Print Preview</span></a></li>
            </ul>
          </div>
          <div class="trv-content-wrapper k-content">
            <div class="trv-nav k-widget">
              <ul class="trv-menu-large k-widget k-reset k-header k-menu k-menu-horizontal" data-role="telerik_ReportViewer_MainMenu" tabindex="0" role="menubar">
                <li class="k-item k-state-default k-first hth-hide" role="menuitem"><a data-command="telerik_ReportViewer_historyBack" title="Về trước" href="#" class="k-link"><i class="fa fa-mail-reply icon-mail-reply"></i></a></li>
                <li class="k-item k-state-default k-state-disabled hth-hide" role="menuitem"><a data-command="telerik_ReportViewer_historyForward" title="Về sau" href="#" class="k-link"><i class="fa fa-mail-forward icon-mail-forward"></i></a></li>

                <li class="k-item k-state-default hth-hide" role="menuitem"><a data-command="telerik_ReportViewer_refresh" href="#" title="Làm mới" class="k-link"><i class="fa fa-refresh icon-refresh"></i></a></li>

                <li class="k-item k-state-default k-state-disabled hth-hide" role="menuitem"><a data-command="telerik_ReportViewer_goToFirstPage" title="Trang đầu" href="#" class="k-link"><i class="fa fa-fast-backward icon-fast-backward"></i></a></li>
                <li class="k-item k-state-default k-state-disabled hth-hide" role="menuitem"><a data-command="telerik_ReportViewer_goToPrevPage" title="Trang trước" href="#" class="k-link"><i class="fa fa-step-backward icon-step-backward"></i></a></li>

                <li class="k-item k-state-default hth-hide" role="menuitem">
                  <span class="k-link"><input data-role="telerik_ReportViewer_PageNumberInput" type="number"><span>&nbsp;/&nbsp;</span><span data-role="telerik_ReportViewer_PageCountLabel">1</span></span>


                </li>

                <li class="k-item k-state-default k-state-disabled hth-hide" role="menuitem"><a data-command="telerik_ReportViewer_goToNextPage" title="Trang sau" href="#" class="k-link"><i class="fa fa-step-forward icon-step-forward"></i></a></li>
                <li class="k-item k-state-default k-state-disabled hth-hide" role="menuitem"><a data-command="telerik_ReportViewer_goToLastPage" title="Trang cuối" href="#" class="k-link"><i class="fa fa-fast-forward icon-fast-forward"></i></a></li>

                <li class="k-item k-state-default hth-hide" role="menuitem"><a data-command="telerik_ReportViewer_togglePrintPreview" title="Xem trước bản in" href="#" class="k-link"><i class="fa fa-file-text icon-file-text"></i></a></li>

                <li class="k-item k-state-default hth-hide" role="menuitem">
                  <a title="Export" href="#" data-command="telerik_ReportViewer_export" class="k-link"><i class="fa fa-cloud-download icon-cloud-download"></i><span class="k-icon k-i-arrow-s"></span></a>
                  <ul data-command-list="export-format-list" class="k-group k-menu-group" role="menu" aria-hidden="true"></ul>
                </li>

                <li class="k-item k-state-default" role="menuitem"><a data-command="telerik_ReportViewer_print" title="In" href="javascript:;" class="k-link"><i class="fa fa-print icon-print"></i></a></li>

                <!--<li><a data-command="telerik_ReportViewer_toggleDocumentMap" title="Toggle Document Map" href="#"><i class="t-font-icon t-i-book"></i></a></li>
                        <li><a data-command="telerik_ReportViewer_toggleParametersArea" title="Toggle Parameters Area" href="#"><i class="t-font-icon t-i-filter"></i></a></li>-->

                <li class="k-item k-state-default" role="menuitem"><a title="Phóng to" href="javascript:;" data-command="telerik_ReportViewer_zoomIn" class="k-link"><i class="fa fa-search-plus icon-zoom-in"></i></a></li>
                <li class="k-item k-state-default" role="menuitem"><a title="Thu nhỏ" href="javascript:;" data-command="telerik_ReportViewer_zoomOut" class="k-link"><i class="fa fa-search-minus icon-zoom-out"></i></a></li>
                <li class="k-item k-state-default hth-hide" role="menuitem"><a title="Xem/bỏ chế độ toàn khung" href="javascript:;" data-command="telerik_ReportViewer_toggleZoomMode" class="k-link"><i class="fa fa-search icon-search"></i></a></li>
                <li class="k-item k-state-default" role="menuitem"><a title="Xem toàn màn hình" href="javascript:;" class="fullscreen k-link"><i class="fa fa-expand"></i></a></li>
                <li class="k-item k-state-default k-last" role="menuitem" style="display: none;"><a title="Bỏ toàn màn hình" href="javascript:;" class="unfullscreen ng-hide k-link"><i class="fa fa-compress"></i></a></li>
              </ul>
              <script>
                $(function() {
                  if ($("body div").hasClass("reportSale")) {
                    $(".fullscreen").hide();
                  }
                  $(".fullscreen").click(function() {
                    $(".wrapper-report").addClass("full-report");
                    $(".unfullscreen").removeClass("ng-hide").parent().show();
                    $(".zopim").addClass("ng-hide");
                    $("body").addClass("ovh");
                    $(this).addClass("ng-hide");
                  });
                  $(".unfullscreen").click(function() {
                    $(".wrapper-report").removeClass("full-report");
                    $(".fullscreen").removeClass("ng-hide");
                    $(".zopim").removeClass("ng-hide");
                    $("body").removeClass("ovh");
                    $(this).addClass("ng-hide");
                  });
                  $(".icon-zoom-out").click(function() {
                    var kl = $('.trv-page-wrapper').css('transform')
                    if(kl){
                        kl = kl.match(/matrix\(([\d+\.]+),/)
                        if(kl){
                            kl = kl[1]
                            if(kl>0.1)
                                kl -= 0.1
                        }
                    }
                    if(!kl) kl = 0.9;
                    $('.trv-page-wrapper').css({
                        'transform': 'scale('+kl+','+kl+')'
                    })
                    if(kl>1) $('.trv-page-wrapper').addClass('max')
                    else  $('.trv-page-wrapper').removeClass('max')
                  });
                  $(".icon-zoom-in").click(function() {
                    var kl = $('.trv-page-wrapper').css('transform')
                    if(kl){
                        kl = kl.match(/matrix\(([\d+\.]+),/)
                        if(kl){
                            kl = kl[1]
                            if(kl>0)
                                kl -= -0.1
                        }
                    }
                    if(!kl) kl = 1.1;
                    $('.trv-page-wrapper').css({
                        'transform': 'scale('+kl+','+kl+')'
                    })
                    if(kl>1) $('.trv-page-wrapper').addClass('max')
                    else  $('.trv-page-wrapper').removeClass('max')
                  });
                  $('.icon-print').click(function(e){
                    $('.trv-page-container').printMe2({path:[
                        '/assets/kendo.css',
                        '/assets/kv-css.css',
                        '/assets/style-css.css?3'
                    ]})
                  })
                  
                  $(document).keyup(function(e) {
                    if (e.keyCode == 27) $('.unfullscreen').click(); // esc
                  });
                });

              </script>
              <ul class="trv-menu-small k-widget k-reset k-header k-menu k-menu-horizontal" data-role="telerik_ReportViewer_MainMenu" tabindex="0" role="menubar">
                <li class="k-item k-state-default k-first" role="menuitem"><a data-command="telerik_ReportViewer_toggleSideMenu" title="Toggle Side Menu" href="#" class="k-link"><i class="t-font-icon t-i-reorder"></i></a></li>
                <li class="k-item k-state-default" role="menuitem">
                  <span class="k-link"><input data-role="telerik_ReportViewer_PageNumberInput" type="number"><span>&nbsp;/&nbsp;</span><span data-role="telerik_ReportViewer_PageCountLabel">1</span></span>


                </li>
                <li class="k-item k-state-default k-state-disabled" role="menuitem"><a data-command="telerik_ReportViewer_toggleDocumentMap" title="Toggle Document Map" href="#" class="k-link"><i class="t-font-icon t-i-book"></i></a></li>
                <li class="k-item k-state-default k-last k-state-disabled" role="menuitem"><a data-command="telerik_ReportViewer_toggleParametersArea" title="Toggle Parameters Area" href="#" class="k-link"><i class="t-font-icon t-i-filter"></i></a></li>
              </ul>
            </div>

            <div class="trv-content">
              <div class="trv-document-map k-widget hidden" data-role="telerik_ReportViewer_DocumentMapArea">
                <div class="trv-document-map-overlay"></div>
                <div data-role="treeview" class="k-widget k-treeview" tabindex="0">
                  <ul class="k-group k-treeview-lines" role="tree"></ul>
                </div>
              </div>

              <div class="trv-parameters-area k-widget hidden" data-role="telerik_ReportViewer_ParametersArea">
                <div class="trv-parameters-area-content"></div>
                <div class="trv-parameters-area-footer">
                  <button class="k-button trv-parameters-area-preview-button">Preview</button>
                </div>
                <div class="trv-error-pane k-tooltip-validation k-widget">
                  <div class="trv-error-message"></div>
                </div>
                <div class="trv-parameters-area-overlay"></div>
              </div>

              <div class="trv-pages-area k-widget interactive" data-role="telerik_ReportViewer_PagesArea">
                <div class="trv-page-container">
                  <div class="trv-page-wrapper active" data-role="touch" style="touch-action: pan-y;">
                    <div class="trv-report-page" style="height: 302px; width: 900px;">
                      <div class="sheet page1" style="padding: 0px; width: 900px; height: 302px; margin: 0px; transform: scale(1, 1); transform-origin: 0px 0px 0px;">
                        <div class="layer">
                          <div title="" class="SaleByTime s0-142215-ab9c142215-6f99" style="position:absolute;overflow:hidden;left:0px;top:0px;width:900px;height:266px;"></div>
                          <div title="" class="Group s0-142215-ab9c142215-6f99" style="position:absolute;overflow:hidden;left:0px;top:0px;width:900px;height:266px;"></div>
                          <div title="" class="reportHeaderSection1 s0-142215-ab9c142215-6f99" style="position:absolute;overflow:hidden;left:0px;top:0px;width:900px;height:100px;"></div>
                          <div title="" class="textBox2 s1-142215-ab9c142215-6f99" style="position:absolute;overflow:hidden;left:10px;top:5px;width:198px;height:19px;">
                            <div style="position:absolute;top:0px;white-space:pre;left:0px;">Ngày lập:<span id="report_date">13/07/2017 14:22</span></div>
                          </div>
                          <div title="" class="title s2-142215-ab9c142215-6f99" style="position:absolute;overflow:hidden;left: 320px;top:0px;width: 431px;height:26px;">
                            <div style="position:absolute;top:3px;white-space:pre;left:18px;font-weight: bold;font-size: 1.5em;text-transform: uppercase;" id="report_title">báo cáo xuất nhập tồn theo thời gian</div>
                          </div>
                          <div title="" class="thoigiantuden s3-142215-ab9c142215-6f99" style="position:absolute;overflow:hidden;left:10px;top:35px;width:1027px;height:22px;">
                            <div style="position:absolute;top:0px;white-space:pre;left:402px;">Từ ngày <span id="report_start_date">10/07/2017</span> đến ngày <span id="report_end_date">10/07/2017</span></div>
                          </div>
                          <div title="" class="header_branchs s4-142215-ab9c142215-6f99" style="position:absolute;overflow:hidden;left:10px;top:57px;width:1022px;height:42px;">
                            <div class="s5-142215-ab9c142215-6f99" style="top:0px;left:428px;">Chi nhánh: <span id="report_branch">Chi nhánh trung tâm</span></div>
                          </div>
                          
                          <article class="clb k-gridNone " style="position: absolute;top: 100px;"><!--k-grid-Scroll-->
            <div id="grdReport" class="k-grid k-widget" kendo-grid="" k-data-source="branches" k-sortable="true" k-resizable="true" k-selectable="true" kv-grid-expan-row="" k-data-bound="emptyGridFix" k-data-binding="grvdataBinding" data-title="branch_Paging" k-detail-template="detailTemplate" k-detail-init="grvDetailInit" k-detail-expand="grvDetailExpand" data-role="grid">
            <div class="k-grid-header" style="padding-right: 17px;">
            <div class="k-grid-header-wrap k-auto-scrollable" data-role="resizable">
            <table role="grid">
            
            </table>
            </div></div>
            <div class="k-grid-content k-auto-scrollable">
            <table role="treegrid" data-role="selectable" class="k-selectable">
            <colgroup></colgroup>
            <tbody role="rowgroup">
            
            </tbody></table></div>
            <div class="paging-box">
            <div class="k-pager-wrap k-grid-pager k-widget k-floatwrap" data-role="pager">
            <a href="javascript:void(0);" title="Trang đầu" class="k-link k-pager-nav k-pager-first k-state-disabled" data-page="1" tabindex="-1">
            <span class="k-icon k-i-seek-w">Trang đầu</span></a>
            <a href="javascript:void(0);" title="Trang trước" class="k-link k-pager-nav k-state-disabled" data-page="1" tabindex="-1">
            <span class="k-icon k-i-arrow-w">Trang trước</span></a>
            
            <ul class="k-pager-numbers k-reset">
            <li class="k-current-page"><span class="k-link k-pager-nav">1</span></li>
            <li><span class="k-state-selected">1</span></li>
            </ul>
            
            <a href="javascript:void(0);" title="Trang sau" class="k-link k-pager-nav k-state-disabled" data-page="1" tabindex="-1">
            <span class="k-icon k-i-arrow-e">Trang sau</span></a>
            
            <a href="javascript:void(0);" title="Trang cuối" class="k-link k-pager-nav k-pager-last k-state-disabled" data-page="1" tabindex="-1">
            <span class="k-icon k-i-seek-e">Trang cuối</span></a>
            
            <span class="k-pager-info k-label">Hiển thị 0 - 0 trên tổng số 0 hóa đơn</span>
            </div>
            </div>
            </div>
        </article>
                          
                          <!--div title="" class="groupFooterSection s0-142215-ab9c142215-6f99" style="position:absolute;overflow:hidden;left:0px;top:253px;width:900px;height:13px;"></div>
                          <div title="" class="pageFooterSection1 s0-142215-ab9c142215-6f99" style="position:absolute;overflow:hidden;left:0px;top:266px;width:900px;height:36px;"></div>
                          <div title="" class="pageNumber s22-142215-ab9c142215-6f99" style="position:absolute;overflow:hidden;left:679px;top:274px;width:357px;height:19px;"></div-->
                        </div>
                      </div>
                      <div class="trv-page-overlay"></div>
                    </div>
                  </div>
                </div>
                <div class="trv-error-pane">
                  <div class="centered k-tooltip-validation k-widget">
                    <div class="trv-error-message">Done. Total 1 pages loaded.</div>
                  </div>
                  <div style="clear: both;"></div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
    <div class="posR report-chart wrapper-report-chart" ng-hide="report.showing">
      <div class="report-box saleReport">
        <div class="chart-wrapper report_PurchaseDate mb20" ng-show="report.ViewType == 'PurchaseDate'">
          <div id="chart_PurchaseDate" class="chartdiv"></div>
          <div class="overlay_chart nochart_sale">
            <div class="ng-binding">Không có dữ liệu</div>
          </div>
        </div>
        <div class="chart-wrapper report_profit mb20 " ng-show="report.ViewType == 'Profit'">
          <div id="chart_PurchaseDate2" class="chartdiv"></div>
          <div class="overlay_chart nochart_profit">
            <div class="ng-binding">Không có dữ liệu</div>
          </div>
        </div>
        <div class="chart-wrapper report_branch mb20 ng-hide" ng-show="report.ViewType == 'Branch'">
          <div kendo-chart="branchPieChart" k-options="branchPie" style="height: 520px; background: rgb(255, 255, 255); position: relative; touch-action: pan-y;" data-role="chart" class="k-chart">
             
          </div>
          <div class="overlay_chart nochart_branch">
            <div class="ng-binding">Không có dữ liệu</div>
          </div>
        </div>
        <div class="chart-wrapper report_soldBy mb20 ng-hide" ng-show="report.ViewType == 'SoldBy'">
          <div kendo-chart="salepersonChart" k-options="salepersonBars" style="height: 520px; position: relative; touch-action: pan-y;" data-role="chart" class="k-chart">
             
          </div>
          <div class="overlay_chart nochart_soldBy">
            <div class="ng-binding">Không có dữ liệu</div>
          </div>
        </div>
        <div class="chart-wrapper report_customer mb20 ng-hide" ng-show="report.ViewType == 'Customer'">
          <div kendo-chart="customerChart" k-options="customerBarOptions" style="height: 520px; position: relative; touch-action: pan-y;" data-role="chart" class="k-chart">
             
          </div>
          <div class="overlay_chart nochart_customer">
            <div class="ng-binding">Không có dữ liệu</div>
          </div>
        </div>
      </div>
    </div>
  </section>
</section>

        <script type="text/x-kendo-template" id="templProductCategory2">
        <div class="k-top ng-scope" onclick="selectCategory({{id}})">
        <span class="k-in" style="{{style}}">
        <span class="nametreeview">{{name}}</span>
        </span>
        </div>
        </script>

<script type="text/x-kendo-template" id="templProducInOutStock">
<tr class=" k-master-row ng-scope" data-uid="41" role="row">
            <td class="k-hierarchy-cell"><a class="k-icon k-plus" href="javascript:void(0);" tabindex="-1"></a></td>
            <td class="tdCode18 tal" role="gridcell"><span ng-bind="dataItem.code" class="ng-binding">SP000001</span></td>
            <td class="tdCode18 tal" role="gridcell"><span ng-bind="dataItem.date" class="ng-binding">Thuốc lá Malboro</span></td>
            <td class="tdStatus" role="gridcell"><span ng-bind="dataItem.customer" class="ng-binding">6</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.price" class="ng-binding">0</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.discount" class="ng-binding">0</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.total" class="ng-binding">0</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.total" class="ng-binding">0</span></td>
            <td class="tdStatus" role="gridcell"><span ng-bind="dataItem.total" class="ng-binding">6</span></td>
        </tr>
</script>

<script type="text/x-kendo-template" id="templProductBySale">
<tr class=" k-master-row ng-scope" data-uid="41" role="row">
            <td class="k-hierarchy-cell"><a class="k-icon k-plus" href="javascript:void(0);" tabindex="-1"></a></td>
            <td class="tdCode18 tal" role="gridcell"><span ng-bind="dataItem.code" class="ng-binding">SP000001</span></td>
            <td class="tdCode18 tal" role="gridcell"><span ng-bind="dataItem.date" class="ng-binding">Thuốc lá Malboro</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.customer" class="ng-binding">6</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.price" class="ng-binding">0</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.discount" class="ng-binding">0</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.total" class="ng-binding">0</span></td>             
            <td class="tdStatus" role="gridcell"><span ng-bind="dataItem.total" class="ng-binding">6</span></td>
        </tr>
</script>

<script type="text/x-kendo-template" id="templProducStockInOutStock">
<tr class=" k-master-row ng-scope" data-uid="41" role="row">
            <td class="k-hierarchy-cell"><a class="k-icon k-plus" href="javascript:void(0);" tabindex="-1"></a></td>
            <td class="tdCode18 tal" role="gridcell"><span ng-bind="dataItem.code" class="ng-binding">SP000001</span></td>
            <td class="tdCode18 tal" role="gridcell"><span ng-bind="dataItem.date" class="ng-binding">Thuốc lá Malboro</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.customer" class="ng-binding">6</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.price" class="ng-binding">30000</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.discount" class="ng-binding">180000</span></td>
            <td class="tdTime" role="gridcell"><span ng-bind="dataItem.total" class="ng-binding">7778</span></td>            
            <td class="tdStatus" role="gridcell"><span ng-bind="dataItem.total" class="ng-binding">46668</span></td>
        </tr>
</script>

<script type="text/x-kendo-template" id="templ2ProducInOutStock">
<colgroup>
            <col class="k-hierarchy-col"><col><col><col><col><col><col><col></colgroup>
            <thead role="rowgroup">
            <tr role="row">
            <th class="k-hierarchy-cell k-header ng-scope" scope="col">&nbsp;</th>
            <th scope="col" role="columnheader" data-field="Name" rowspan="1" data-title="Mã sản phẩm" data-index="0" id="e7e15aa7-161b-4807-9721-da9a9abb94b7" class="tdCode18 k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Mã hàng</a></th>
            <th scope="col" role="columnheader" data-field="Address" rowspan="1" data-title="Thời gian" data-index="1" id="c563cae7-3a18-4aba-a53d-621035a98943" class="tdCode18 k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Tên hàng</a></th>            
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Khách hàng" data-index="2" id="8977b66a-0c78-45b4-bdb5-91403756d56a" class="tdStatus k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Tồn đầu kỳ</a></th>            
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Tổng tiền hàng" data-index="3" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">SL Nhập</a></th> 
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Giảm giá" data-index="4" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">SL Xuất</a></th> 
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Giảm giá" data-index="4" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">SL Kiểm</a></th> 
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="SL Trả" data-index="4" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">SL Trả</a></th> 
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Khách đã trả" data-index="5" class="tdStatus k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Tồn cuối kỳ</a></th> 
            </tr>
            </thead>

</script>

<script type="text/x-kendo-template" id="templ2ProductBySale">
<colgroup>
            <col class="k-hierarchy-col"><col><col><col><col><col><col><col></colgroup>
            <thead role="rowgroup">
            <tr role="row">
            <th class="k-hierarchy-cell k-header ng-scope" scope="col">&nbsp;</th>
            <th scope="col" role="columnheader" data-field="Name" rowspan="1" data-title="Mã sản phẩm" data-index="0" id="e7e15aa7-161b-4807-9721-da9a9abb94b7" class="tdCode18 k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Mã hàng</a></th>
            <th scope="col" role="columnheader" data-field="Address" rowspan="1" data-title="Thời gian" data-index="1" id="c563cae7-3a18-4aba-a53d-621035a98943" class="tdCode18 k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Tên hàng</a></th>            
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Khách hàng" data-index="2" id="8977b66a-0c78-45b4-bdb5-91403756d56a" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">SL Bán</a></th>            
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Tổng tiền hàng" data-index="3" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Doanh Thu</a></th> 
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Giảm giá" data-index="4" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">SL Trả</a></th> 
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Giảm giá" data-index="4" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Giá trị trả</a></th>             
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Khách đã trả" data-index="5" class="tdStatus k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Doanh thu thuần</a></th> 
            </tr>
            </thead>

</script>

<script type="text/x-kendo-template" id="templ2ProducStockInOutStock">
<colgroup>
            <col class="k-hierarchy-col"><col><col><col><col><col><col></colgroup>
            <thead role="rowgroup">
            <tr role="row">
            <th class="k-hierarchy-cell k-header ng-scope" scope="col">&nbsp;</th>
            <th scope="col" role="columnheader" data-field="Name" rowspan="1" data-title="Mã sản phẩm" data-index="0" id="e7e15aa7-161b-4807-9721-da9a9abb94b7" class="tdCode18 k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Mã hàng</a></th>
            <th scope="col" role="columnheader" data-field="Address" rowspan="1" data-title="Thời gian" data-index="1" id="c563cae7-3a18-4aba-a53d-621035a98943" class="tdCode18 k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Tên hàng</a></th>            
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Khách hàng" data-index="2" id="8977b66a-0c78-45b4-bdb5-91403756d56a" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Số lượng</a></th>            
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Tổng tiền hàng" data-index="3" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Giá bán</a></th> 
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Giảm giá" data-index="4" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Giá trị bán</a></th> 
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="Giảm giá" data-index="4" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Giá vốn</a></th> 
            <th scope="col" role="columnheader" data-field="ContactNumber" rowspan="1" data-title="SL Trả" data-index="4" class="tdTime k-header ng-scope" data-role="columnsorter">
            <a class="k-link" href="javascript:void(0);">Giá trị kho</a></th>              
            </tr>
            </thead>

</script>

<script type="text/x-kendo-template" id="templ3ProducInOutStock">
<col class="k-hierarchy-col"><col><col><col><col><col><col>
</script>
<script type="text/x-kendo-template" id="templ3ProductBySale">
<col class="k-hierarchy-col"><col><col><col><col><col>
</script>
<script type="text/x-kendo-template" id="templ3ProducStockInOutStock">
<col class="k-hierarchy-col"><col><col><col><col><col>
</script>

<script>


var filter = {
    ViewType: 'ProductBySale',
    Mode: 'chart',
    range: 'thisweek',
    
    ProductKey: '',
    ProductType: 0,
    ProductCategory: 0,
}

function selectCategory(cid){
    if(filter.ProductCategory != cid){
        $('#productCatTreeView li').removeClass('k-state-selected')
        if(cid!=0){            
            $('#productCatTreeView li[data-uid="'+cid+'"]').addClass('k-state-selected')            
            $('#idProductCatTreeAll').removeClass('kv-state-selected')
        }else{
            $('#idProductCatTreeAll').addClass('kv-state-selected')
        }
         
        filter.ProductCategory = cid    
        _g();    
    }    
}
 
function labelF ( value, valueText, valueAxis ) {
  var m = String(value)  
   
  return m.replace(/[0]{6}$/,"tr").replace(/[0]{3}$/,"k")
          .replace(/([1-9])[0]{5}$/,".$1tr").replace(/([1-9])[0]{2}$/,".$1k")
 
}

function cloneAO(ao){
    var ret=[]
    
    for(var i in ao){
        ret.push($.extend({},ao[i]))
    }
    
    return ret
} 
//var hkl , hkl2, hkl3
/*
$(function(){
    hkl = $('#grdReport tbody').html() + ''; 
    $('#grdReport tbody').html('')
})*/

function _g(){
    
    if(!cb || products==null){
        setTimeout(function(){_g()},500)
        return
    }
    
    if(filter.Mode=='chart'){
    
    cdata = {}
              //ajax.php?action=reportproduct&branch=1&range=thisyear&ViewType=
    //$.getJSON( "ajax.php?action=turnover&range="+filter.range+"&ViewType="+filter.ViewType+"&branch="+cb, function( data ) {
    $.getJSON( "ajax.php?action=reportproduct&range="+filter.range+"&Mode="+filter.Mode+
        "&ViewType="+filter.ViewType+
        "&ProductKey="+filter.ProductKey+
        "&ProductType="+filter.ProductType+
        "&ProductCategory="+filter.ProductCategory+
        "&branch="+cb, function( data ) {
        cdata = $.extend({}, data)
        
        dataProvider = []
        
        if(filter.ViewType=="ProductBySale"){
        
        for(var i in cdata.charts[0]){
            dataProvider.push( {                 
                "date": loadProduct(cdata.charts[0][i].product).name,
                "visits": cdata.charts[0][i].turnover
            } )
        }   console.log(JSON.stringify(dataProvider ))	
         opz = {
            "titles": [
        		{
        			"text": "Top 10 sản phẩm doanh số cao nhất "+rngs[filter.range],
        			"size": 15
        		}
        	],
          "type": "serial",
          "theme": "none",
          "dataProvider":  dataProvider  ,
          "gridAboveGraphs": true,
          "startDuration": 1,
          "graphs": [ {
            "balloonText": "[[category]]: <b>[[value]]</b>",
            "fillAlphas": 0.8,
            "lineAlpha": 0.2,
            "type": "column",
            "valueField": "visits"
          } ],
          "chartCursor": {
            "categoryBalloonEnabled": false,
            "cursorAlpha": 0,
            "zoomable": false
          },
          "categoryField": "date",
          "categoryAxis": {
            "gridPosition": "start",
            "gridAlpha": 0,
            "tickPosition": "start",
            "tickLength": 20
          },
          "export": {
            "enabled": true
          }
        
        }
         
        opz.rotate = true
        opz.categoryAxis= {
            "gridPosition": "start",
            "position": "left"
          }
        opz.valueAxes = [{
            "id": "ValueAxis-1",
            "position": "bottom",
            "axisAlpha": 0,
            labelFunction: labelF
          }]
         
        //console.log(JSON.stringify(opz))
        //_chart = AmCharts.makeChart( "chart_PurchaseDate", opz );     
        
        var dataProvider2 = []
         opz2 = $.extend(true,{},opz); 
        for(var i in cdata.charts[1]){
            dataProvider2.push( {                 
                "date": loadProduct(cdata.charts[1][i].product).name,
                "visits": cdata.charts[1][i].turnover
            } )
        }  //gff = 1
        console.log(JSON.stringify(dataProvider2))	;//alert(gff++)
        opz2.dataProvider   = dataProvider2   ;//alert(gff++)
        opz2.valueAxes = [{
            "id": "ValueAxis-2",
            "position": "bottom",
            "axisAlpha": 0 ,
             
            "integersOnly": true
          }]  //;alert(gff++)
          
          opz2.titles = [
        		{
        			"text": "Top 10 sản phẩm bán chạy theo số lượng "+rngs[filter.range],
        			"size": 15
        		}
        	]  //;alert(gff++)
            
        }
        //12/15/2020
        else if(filter.ViewType=='ProductOverview'){
            for(var i in cdata.charts[0]){
                dataProvider.push( {                 
                    "date": cdata.charts[0][i].product,
                    "visits": cdata.charts[0][i].turnover
                } )
            }   //console.log(JSON.stringify(dataProvider ))	
             opz = {
                "titles": [
            		{
            			"text": "Tổng số sản phẩm thêm mới "+rngs[filter.range],
            			"size": 15
            		}
            	],
              "type": "serial",
              "theme": "none",
              "dataProvider":  dataProvider  ,
              "gridAboveGraphs": true,
              "startDuration": 1,
              "graphs": [ {
                "balloonText": "[[category]]: <b>[[value]]</b>",
                "fillAlphas": 0.8,
                "lineAlpha": 0.2,
                "type": "column",
                "valueField": "visits"
              } ],
              "chartCursor": {
                "categoryBalloonEnabled": false,
                "cursorAlpha": 0,
                "zoomable": false
              },
              "categoryField": "date",
              "categoryAxis": {
                "gridPosition": "start",
                "gridAlpha": 0,
                "tickPosition": "start",
                "tickLength": 20
              },
              "export": {
                "enabled": true
              }
            
            }
             
            opz.rotate = true
            opz.categoryAxis= {
                "gridPosition": "start",
                "position": "left"
              }
            opz.valueAxes = [{
                "id": "ValueAxis-1",
                "position": "bottom",
                "axisAlpha": 0,
                labelFunction: labelF
              }]
             
            //console.log(JSON.stringify(opz))
            //_chart = AmCharts.makeChart( "chart_PurchaseDate", opz );     
            
            var dataProvider2 = []
             opz2 = $.extend(true,{},opz); 
            for(var i in cdata.charts[1]){
                dataProvider2.push( {                 
                    "date": cdata.charts[1][i].product,
                    "visits": cdata.charts[1][i].turnover
                } )
            }  //gff = 1
            //console.log(JSON.stringify(dataProvider2))	;//alert(gff++)
            opz2.dataProvider   = dataProvider2   ;//alert(gff++)
            opz2.valueAxes = [{
                "id": "ValueAxis-2",
                "position": "bottom",
                "axisAlpha": 0 ,
                 
                "integersOnly": true
              }]  //;alert(gff++)
              
              opz2.titles = [
            		{
            			"text": "Tổng số sản phẩm xuất hủy "+rngs[filter.range],
            			"size": 15
            		}
            	]    
        }    
            
        //console.log(JSON.stringify(opz2))	;alert(gff++)	 
         // _chart2 = AmCharts.makeChart( "chart_PurchaseDate2", opz2 );     
         //AmCharts.ready(function () {
            AmCharts.makeChart( "chart_PurchaseDate", opz );     
            AmCharts.makeChart( "chart_PurchaseDate2", opz2 );     
         //   })
    });
    
    }else{
        //data
        //alert('data')
        
        var report_titles = {
            'ProducStockInOutStock': 'Báo cáo giá trị kho',
            'ProducInOutStock': 'Báo cáo xuất nhập tồn',
            'ProductBySale': 'Báo cáo bán hàng theo hàng hóa'
        }
        
        
        $('#report_title').html(report_titles[filter.ViewType])    
        
        $('#report_title').parent().css({
            left: 145+(900-145-$('#report_title').width())/2-15
        })
            
        
        $.getJSON( "ajax.php?action=reportproduct&range="+filter.range+"&Mode="+filter.Mode+
            "&ProductKey="+filter.ProductKey+
            "&ProductType="+filter.ProductType+
            "&ProductCategory="+filter.ProductCategory+
            "&ViewType="+filter.ViewType+"&branch="+cb, function( data ) {
            
            $('#report_start_date').html(data.start)
            $('#report_end_date').html(data.end)
            $('#report_date').html(getDate())
            
            $('#report_branch').html(loadBranch(cb).name)
            
            var lil2 = $('#templ2'+filter.ViewType).html();
            var lil3 = $('#templ3'+filter.ViewType).html();
            
            $('#grdReport tbody').html('')
            
            $('#grdReport .k-grid-header table').html(lil2)
            $('#grdReport .k-grid-content table colgroup').html(lil3)
            
            var sums = {}
            
            if(filter.ViewType=='ProducStockInOutStock'){
                sums = {1:0,3:0,5:0,7:0}
            }else if(filter.ViewType=='ProducInOutStock'){
                sums = {1:0,3:0,4:0,5:0,6:0,7:0,8:0}
            }else if(filter.ViewType=='ProductBySale'){
                sums = {1:0,3:0,4:0,5:0,6:0,7:0}
            }
            var lil, countProducts = 0;
            
            var displayRecords = function(){
                $('#grdReport tbody').html('')
                countProducts = 0
                for(var i in data.products){ 
                    countProducts++;
                    
                    if(countProducts>cpage*record && countProducts<=(cpage+1)*record){
                    
                        lil = $($('#templ'+filter.ViewType).html()); //$(hkl)
                        var p = loadProduct(i)
                        if(!p) {
                            countProducts--
                            sums[1]--
                            continue
                        }
                        if(filter.ViewType=='ProducInOutStock'){                            
                            lil.find('td:nth-child(2) span').html(p?p.code:'');  
                            lil.find('td:nth-child(3) span').html(p?p.name:'')
                            lil.find('td:nth-child(4) span').html(data.products[i][0]);  
                            lil.find('td:nth-child(5) span').html(data.products[i][1]);  
                            lil.find('td:nth-child(6) span').html(data.products[i][2]);  
                            lil.find('td:nth-child(7) span').html(data.products[i][3]);  
                            lil.find('td:nth-child(8) span').html(data.products[i][4]);  
                            lil.find('td:nth-child(9) span').html(data.products[i][0]-(-data.products[i][1])-data.products[i][2]-(-data.products[i][3])-(-data.products[i][4]))
                             
                        }else if(filter.ViewType=='ProducStockInOutStock'){
                             
                            lil.find('td:nth-child(2) span').html(p?p.code:'');  
                            lil.find('td:nth-child(3) span').html(p?p.name:'')
                            lil.find('td:nth-child(4) span').html(data.products[i][0]);  
                            lil.find('td:nth-child(5) span').html(p?formatCurrency(p.price):'')
                            lil.find('td:nth-child(6) span').html(p?formatCurrency(p.price*data.products[i][0]):'');  
                            lil.find('td:nth-child(7) span').html(p?formatCurrency(p.price2):'')
                            lil.find('td:nth-child(8) span').html(p?formatCurrency(p.price2*data.products[i][0]):''); 
                        }else if(filter.ViewType=='ProductBySale'){
                             
                            lil.find('td:nth-child(2) span').html(p?p.code:'');  
                            lil.find('td:nth-child(3) span').html(p?p.name:'')
                            lil.find('td:nth-child(4) span').html(data.products[i][0]);  
                            lil.find('td:nth-child(5) span').html(formatCurrency(data.products[i][1]));  
                            lil.find('td:nth-child(6) span').html(data.products[i][2]);  
                            lil.find('td:nth-child(7) span').html(formatCurrency(data.products[i][3]));  
                           
                            lil.find('td:nth-child(8) span').html(formatCurrency(data.products[i][1]-data.products[i][3]))
                             
                        }
                    
                    
                        $('#grdReport tbody').append(lil);
                    }
                }
                
                
                lil = $($('#templ'+filter.ViewType).html());
                lil.addClass('fwb')
                if(filter.ViewType=='ProducStockInOutStock'){
                    
                    lil.find('td:nth-child(1)').html('');
                    lil.find('td:nth-child(2) span').html('SL mặt hàng: '+(sums[1]));
                    lil.find('td:nth-child(3) span').html('')
                    lil.find('td:nth-child(4) span').html(checknum(sums[3]));
                    lil.find('td:nth-child(5) span').html('')
                    lil.find('td:nth-child(6) span').html(formatCurrency(sums[5]));
                    lil.find('td:nth-child(7) span').html('')
                    lil.find('td:nth-child(8) span').html(formatCurrency(sums[7]));
                    $('#grdReport tbody').prepend(lil);
                }else if(filter.ViewType=='ProducInOutStock'){
                     
                    lil.find('td:nth-child(1)').html('');
                    lil.find('td:nth-child(2) span').html('SL mặt hàng: '+(sums[1]));
                    lil.find('td:nth-child(3) span').html('')
                    lil.find('td:nth-child(4) span').html(checknum(sums[3]));
                    lil.find('td:nth-child(5) span').html(checknum(sums[4]));
                    lil.find('td:nth-child(6) span').html(checknum(sums[5]));
                    lil.find('td:nth-child(7) span').html(checknum(sums[6]));
                    lil.find('td:nth-child(8) span').html(checknum(sums[7]));
                    lil.find('td:nth-child(9) span').html(checknum(sums[8]));
                    $('#grdReport tbody').prepend(lil);
                }else if(filter.ViewType=='ProductBySale'){
                     
                    lil.find('td:nth-child(1)').html('');
                    lil.find('td:nth-child(2) span').html('SL mặt hàng: '+(sums[1]));
                    lil.find('td:nth-child(3) span').html('')
                    lil.find('td:nth-child(4) span').html(checknum(sums[3]));
                    lil.find('td:nth-child(5) span').html(formatCurrency(sums[4]))
                    lil.find('td:nth-child(6) span').html(checknum(sums[5]));
                    lil.find('td:nth-child(7) span').html(formatCurrency(sums[6]))
                    lil.find('td:nth-child(8) span').html(formatCurrency(sums[7]));
                    $('#grdReport tbody').prepend(lil);
                }
                
                tpage = Math.ceil(countProducts/record) 
                
                $('#grdReport .paging-box .k-pager-first').unbind('click')
                $('#grdReport .paging-box .k-pager-first+.k-pager-nav').unbind('click')
                if(cpage==0){
                    $('#grdReport .paging-box .k-pager-first').addClass('k-state-disabled')
                    $('#grdReport .paging-box .k-pager-first+.k-pager-nav').addClass('k-state-disabled')
                }else{
                    $('#grdReport .paging-box .k-pager-first').removeClass('k-state-disabled')
                    $('#grdReport .paging-box .k-pager-first+.k-pager-nav').removeClass('k-state-disabled')
                    
                    $('#grdReport .paging-box .k-pager-first').click(function(){
                        cpage=0;
                        displayRecords()
                    })
                    
                    $('#grdReport .paging-box .k-pager-first+.k-pager-nav').click(function(){
                        cpage--;
                        displayRecords()
                    })
                }
                
                $('#grdReport .paging-box .k-pager-last').unbind('click')
                $('#grdReport .paging-box ul+.k-pager-nav').unbind('click')
                if(cpage==tpage-1){
                    $('#grdReport .paging-box .k-pager-last').addClass('k-state-disabled')
                    $('#grdReport .paging-box ul+.k-pager-nav').addClass('k-state-disabled')
                }else{
                    $('#grdReport .paging-box .k-pager-last').removeClass('k-state-disabled')
                    $('#grdReport .paging-box ul+.k-pager-nav').removeClass('k-state-disabled')
                    
                    $('#grdReport .paging-box .k-pager-last').click(function(){
                        cpage=tpage-1;
                        displayRecords()
                    })
                    
                    $('#grdReport .paging-box ul+.k-pager-nav').click(function(){
                        cpage++;
                        displayRecords()
                    })
                }
                $('#grdReport .paging-box .k-pager-numbers>li').html(cpage+1)
                $('#grdReport .paging-box .k-pager-numbers>li:last-child').addClass('k-state-selected')  
                //$('#grdReport .paging-box .k-current-page>span').html(cpage+1)
                $('#grdReport .paging-box .k-pager-info.k-label').html('Hiển thị '+(cpage*record+1)+' - '+Math.min(countProducts,(cpage+1)*record)+' trên tổng số '+countProducts+' kết quả')
                 
            }
            
            //03/29/2020
            var _p = _convertProduct() ; //console.log(JSON.stringify(_p))
            
            for(var i in data.products){ 
                 
                if(filter.ViewType=='ProducInOutStock'){
                    var p = _p[i] // loadProduct(i)
                    sums[1]+=1
                    sums[3]-=0-data.products[i][0]
                    sums[4]-=0-data.products[i][1]
                    sums[5]-=0-data.products[i][2]
                    sums[6]-=0-data.products[i][3]
                    sums[7]-=0-data.products[i][4]        
                    sums[8]+=data.products[i][0]-(-data.products[i][1])-data.products[i][2]-(-data.products[i][3])-(-data.products[i][4])
                }else if(filter.ViewType=='ProducStockInOutStock'){
                    var p = _p[i] // loadProduct(i); 
                    sums[1]+=1                    
                    sums[3]-=0-data.products[i][0]                    
                    sums[5]+=p?p.price*data.products[i][0]:0                    
                    sums[7]+=p?p.price2*data.products[i][0]:0           
                }else if(filter.ViewType=='ProductBySale'){
                    var p = _p[i] // loadProduct(i)                    
                    sums[1]+=1                    
                    sums[3]-=0-data.products[i][0]
                    sums[4]-=0-data.products[i][1]
                    sums[5]-=0-data.products[i][2]
                    sums[6]-=0-data.products[i][3]                    
                    sums[7]+=data.products[i][1]-data.products[i][3]
                     
                }
                 
            }
            
            if(localStorage.record==undefined) record = localStorage.record = 10;
            
            displayRecords()
            
            var nk = $('#grdReport').width();
            $('#grdReport').parent().parent().parent().width(Math.max(900,nk));
            $('#grdReport').parent().parent().parent().parent().width(Math.max(900,nk));
            
            
            
        });    
        
        
    }
}

var lipc = '<li role="treeitem" class="k-item {{class}}" data-uid="{{id}}" aria-selected="false ">';

function loadPC(v){
    console.log('loadPC')
    
    if(v==undefined) v=''
     
    if(product_categories==undefined || product_categories==null){
        setTimeout(function(){
            loadTableLeft()
        },500)
        return
    }
     
    $('#productCatTreeView >ul').html('');
     
    for(var i in product_categories){
        
        if(v && !product_categories[i].name.match(new RegExp(v,'gi'))) continue
        
        var lipc2 = lipc;
        tplpc2 = tplpc;
        
        //lipc2 = lipc2.replace('{{class}}',i==product_categories.length-1?'k-last':'');
        lipc2 = lipc2.replace('{{class}}',i==0?'k-first':(i==product_categories.length-1?'k-last':''));
        lipc2 = lipc2.replace(/\{\{id\}\}/g,product_categories[i].id);
        
        tplpc2 = tplpc2.replace('{{name}}',product_categories[i].name);
        tplpc2 = tplpc2.replace(/\{\{id\}\}/g,product_categories[i].id);
        tplpc2 = tplpc2.replace('{{style}}','padding-left: '+(parseInt(product_categories[i].level)*16+5)+'px;');
        
        lipc2 = $(lipc2);

        lipc2.append(tplpc2);
        $('#productCatTreeView >ul').append(lipc2);
    }
}
var tplpc
function loadTableLeft(){
    
    console.log('loadTableLeft');
    
    tplpc = $('#templProductCategory2').html();
    
    loadPC()
    
    $('#idProductCatTreeAll').unbind('click')
    $('#idProductCatTreeAll').click(function(){
        selectCategory(0)
    })
    
    $('[ng-model="catSearchParam"]').unbind('keyup')
    $('[ng-model="catSearchParam"]').keyup(function(){
        var v = $(this).val()
        if(v!=''){
            $('[ng-show="!catSearchParam"]').addClass('ng-hide')
        }else{
            $('[ng-show="!catSearchParam"]').removeClass('ng-hide')
        }
        loadPC(v)
    })
    
    $('.mainLeft h3[ng-click]').unbind('click')
    $('.mainLeft h3[ng-click]').click(function(){
        i = $(this).find('i');
         
        if(i.hasClass('fa-chevron-circle-up')){
            $(this).parent().find('aside').addClass('ng-hide');
            i.removeClass('fa-chevron-circle-up');
            i.addClass('fa-chevron-circle-down');
        }else{
            $(this).parent().find('aside').removeClass('ng-hide');
            i.addClass('fa-chevron-circle-up');
            i.removeClass('fa-chevron-circle-down');
        }
    });
    
    $('#reportsortDateTimeLbl').unbind('click')
    $('#reportsortDateTimeLbl').click(function(e){
        var pp = $(this).parent().parent()
        pp.toggleClass('reportsortActive')
        $('[ng-click^="filterbyRange"]').unbind('click')
        $('[ng-click^="filterbyRange"]').click(function(e){
            var x = $(this).attr('ng-click').slice(15,-2)
            filter.range = x
            pp.toggleClass('reportsortActive')
            $('#reportsortDateTimeLbl').html($(this).html())
            _g()
        })
    }) 
    
    $('[ng-model="kvModel.ProductKey"]').unbind('keyup')
    $('[ng-model="kvModel.ProductKey"]').keyup(function(e){
        if(e.which==13){
            filter.ProductKey = $(this).val()
            _g()
        }
    })
    
    pretty('.mainLeft',function(d){ //alert('test')
        if($(d).attr('ng-model')=='pTypeFilterValues[item.key]'){             
            var type = []
            $('.mainLeft [ng-model="pTypeFilterValues[item.key]"]').each(function(i,v){
                if($(this).is('[checked]'))
                    type.push(parseInt($(this).attr('value')))    
            })
            var oo = filter.ProductType+'',oo2 = type.join(',')
            if(oo==oo2) return false
            filter.ProductType = oo2
            _g()
        }else
        if($(d).attr('ng-model')=='report.ViewType'){                     
            var oo = filter.ViewType+''
            var oo2 = $('.mainLeft [ng-model="report.ViewType"][checked]').attr('value')
            if(oo==oo2) return false
            filter.ViewType = oo2
            
            //alert(filter.ViewType)
            if(filter.ViewType=="ProductOverview"){
                _g(); 
            }else{
                //ProductBySale
                _g(); 
            }
            
            
        }else if($(d).attr('ng-model')=='report.Mode'){                     
            var oo = filter.Mode+'' 
            var oo2 = $('.mainLeft [ng-model="report.Mode"][checked]').attr('value')
            
            if(oo==oo2) return false
            filter.Mode = oo2
            
            if(filter.Mode=='data'){
                ////$('[value="ProductBySale"][ng-model="report.ViewType"]').parent().parent().addClass('hth-hide')
                $('[value="ProducStockInOutStock"][ng-model="report.ViewType"]').parent().parent().removeClass('hth-hide')
                $('[value="ProducInOutStock"][ng-model="report.ViewType"]').parent().parent().removeClass('hth-hide')
                $('[value="ProducInOutStock"][ng-model="report.ViewType"]').click()
                //$('[value="ProducInOutStock"][ng-model="report.ViewType"]').attr('checked','checked')
                //$('[value="ProducInOutStock"][ng-model="report.ViewType"]').prop('checked',true)
                
                $('[ng-show="report.showing"]').removeClass('ng-hide')
                $('[ng-hide="report.showing"]').addClass('ng-hide')
                
                $('[value="ProductOverview"][ng-model="report.ViewType"]').parent().parent().addClass('hth-hide')
            }else{
                ////$('[value="ProductBySale"][ng-model="report.ViewType"]').parent().parent().removeClass('hth-hide')
                $('[value="ProducStockInOutStock"][ng-model="report.ViewType"]').parent().parent().addClass('hth-hide')
                $('[value="ProducInOutStock"][ng-model="report.ViewType"]').parent().parent().addClass('hth-hide')
                $('[value="ProductBySale"][ng-model="report.ViewType"]').click()
                //$('[value="ProductBySale"][ng-model="report.ViewType"]').attr('checked','checked')
                // $('[value="ProductBySale"][ng-model="report.ViewType"]').prop('checked',true)
                
                $('[ng-show="report.showing"]').addClass('ng-hide')
                $('[ng-hide="report.showing"]').removeClass('ng-hide')
                
                if(cfs.BHS)
                $('[value="ProductOverview"][ng-model="report.ViewType"]').parent().parent().removeClass('hth-hide')
            }
            
            // thừa: fixed 03/29/2020
            //_g()
        }
    })
     
    _g(); 
}

loadTableLeft()
//
setTitle(loadBranch(cb).name+' - Báo cáo') 
</script>